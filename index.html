<!DOCTYPE html>
<script src="aframe.js"></script>
<script src="aframe-ar.js"></script>
<script src="aframe-alongpath-component.js"></script>
<script src="aframe-curve-component.js"></script>
<script src="aframe-animation-component.js"></script>
<!--<script src="Event.js"></script>-->
<script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script>
<!--<script src="loadfile.js"></script>-->
<!--<script src="test.js"></script>-->

<!--<input type="file" id="fileinput" />-->
<!--<input type="file" id="fileInput">-->
<!--<pre id="fileDisplayArea"><pre>-->

<head>
<meta charset="utf-8" />



<title></title>
</head>


<body style='margin : 0px; overflow: hidden;'>
<a-scene embedded artoolkit='sourceType: webcam;' inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js">

        <!--<a-curve id="track1">
            <a-curve-point position="-2 2 -3"></a-curve-point>
            <a-curve-point position="0 1 -3"></a-curve-point>
            <a-curve-point position="2 2 -3"></a-curve-point>
        </a-curve>-->

<!--<a-curve id="track1">
<a-curve-point position="0 1 0" height:0.1; width:0.1; depth:0.1"></a-curve-point>
<a-curve-point position="1 2 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="2 3 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="3 4 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="3 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="2 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="1 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-0 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-1 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-2 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-3 5 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-3 4 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-2 3 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="-1 2 0" geometry="primitive:box; height:0.1; width:0.1; depth:0.1" material="color:#ff0000"></a-curve-point>
<a-curve-point position="0 1 0" height:0.1; width:0.1; depth:0.1"></a-curve-point>
        </a-curve>

        <a-box color="#ff0000" width="0.1" height="0.3" depth="0.1" positiopn="0 1 0"
               alongpath="curve: #track1; loop:true; dur:6000; rotate:true;">
        </a-box>-->

    

<a-curve id="track2"> <!--curve="closed:true;"-->
    <a-curve-point position="0.35 0.5 0" ></a-curve-point>
    <a-curve-point position="0.35 0.5 1" ></a-curve-point>
    <a-curve-point position="0.35 0.5 1.5" ></a-curve-point>
    <a-curve-point position="1 1 1.5" ></a-curve-point>
    <a-curve-point position="2 2 1.5" ></a-curve-point>
    <a-curve-point position="3 3 2" ></a-curve-point>
 </a-curve>
    <a-entity  scale="4 4 4"  text= "color:red; align:center; value: Injection" color="#ff0000" width="0.1" height="0.3" depth="0.1" position="0.35 0.2 0"
           alongpath="curve: #track2; loop:true; dur:6000; rotate:false;">
    </a-entity>

    <!--<a-entity scale="8 8 8" text="font:https://cdn.aframe.io/fonts/mozillavr.fnt; color:red; align:center; value: Server" color="#ff0000" position="0.35 2.5 0">
        <a-animation attribute="rotation"
                     dur="10000"
                     to="0 360 0"
                     ease="linear"
                     repeat="indefinite">

        </a-animation>
    </a-entity>-->

    <a-box src="crow-logo.png" scale="1 1 0" segments-height="53" position="0.35 3 0">
        <a-animation attribute="rotation"
                         dur="10000"
                         to="0 360 0"
                         ease="linear"
                         repeat="indefinite">

            </a-animation>

        </a-box>

        <a-curve id="track3" curve="closed:true;">
            <a-curve-point position="0.35 0.5 0"></a-curve-point>
            <a-curve-point position="-0.5 1 1.5"></a-curve-point>
            <a-curve-point position="-1 2 1.5"></a-curve-point>
            <a-curve-point position="-2 3 1.5"></a-curve-point>
            <a-curve-point position="-3 3 2"></a-curve-point>
            <a-curve-point position="-3.5 2.5 2.2"></a-curve-point>
            <a-curve-point position="-3.8 2 2.5"></a-curve-point>
            <a-curve-point position="-4 1.5 2.8"></a-curve-point>
            <a-curve-point position="-4.2 0.5 3"></a-curve-point>
           </a-curve>
           <a-entity  geometry="primitive: sphere" material="color: green" scale="0.1 0.1 0.1" position="3 0.5 0">
                  <!--alongpath="curve: #track3; loop:true; dur:3000; rotate:true;"-->
               <!--<a-animation attribute="visible" deley="1000" to="true"></a-animation>
               scale="0.01 0.01 1"-->
           </a-entity>

        <a-curve id="track4" curve="closed:true;">
            <!--curve="closed:true;"-->
            <a-curve-point position="0.35 0.5 0" ></a-curve-point>
            <a-curve-point position="-0.1 1.5 0" ></a-curve-point>
            <a-curve-point position="-0.5 1.8 0" ></a-curve-point>
            <a-curve-point position="-1 2 0" ></a-curve-point>
            <a-curve-point position="-2 2 0"></a-curve-point>
            <a-curve-point position="-2.5 1.5 0" ></a-curve-point>
            <a-curve-point position="-2.8 1 0" ></a-curve-point>
            <a-curve-point position="-3 0.5 0" ></a-curve-point>

        </a-curve>
        <a-entity id="test4" geometry="primitive: sphere" material="color: yellow" scale="0.1 0.1 0.1" position="0.35 0.5 0" rotation="0 0 23"
                  alongpath="curve: #track4; loop:true; dur:3000; rotate:true;">
            <!--<a-animation attribute="visible" deley="1000" to="true"></a-animation>-->
            <!--scale="0.01 1 0.01"-->
        </a-entity>

        <a-curve id="track5" curve="closed:true;">
            <!--curve="closed:true;"-->
            <a-curve-point position="0.35 0.5 0"></a-curve-point>
            <a-curve-point position="0.5 1.8 0" ></a-curve-point>
            <a-curve-point position="1 2 0"></a-curve-point>
            <a-curve-point position="2 2 0"></a-curve-point>
            <a-curve-point position="2.5 1.5 0"></a-curve-point>
            <a-curve-point position="2.8 1 0"></a-curve-point>
            <a-curve-point position="3 0.5 0"></a-curve-point>
        </a-curve>

        <a-entity geometry="primitive: sphere" material="color:orange" scale="0.1 0.1 0.1" position="0.35 0.5 0" rotation="0 0 -23">
                  <!--alongpath="curve: #track5; loop:true; dur:3000; rotate:true;">-->
            <!--<a-animation attribute="material.color" from="red" to="blue" dur="3000" repeat="indefinite"></a-animation>
            <a-animation attribute="visible" dur="3000" from="false" to="true" repeat="indefinite"></a-animation>-->
            <!--scale="0.01 1 0.01"-->
        </a-entity>

        <a-curve id="track6" curve="closed:true;">
        <!--curve="closed:true;"-->
        <a-curve-point position="0.35 0.5 0"></a-curve-point>
        <a-curve-point position="0.5 1.8 0" ></a-curve-point>
        <a-curve-point position="1 2 0"></a-curve-point>
        <a-curve-point position="2 2 0" ></a-curve-point>
        <a-curve-point position="2.5 1.5 0"></a-curve-point>
        <a-curve-point position="2.8 1 0" ></a-curve-point>
        <a-curve-point position="3 0.5 0"></a-curve-point>
    </a-curve>

        <a-entity geometry="primitive: sphere" material="color:pink" scale="0.1 0.1 0.1" position="4 0.5 0" rotation="0 0 -23">
                  <!--alongpath="curve: #track6; loop:true; dur:3000; rotate:true;"--></a-entity>

    <a-curve id="track7" curve="closed:true;">
        <!--curve="closed:true;"-->
        <a-curve-point position="0.35 0.5 0"></a-curve-point>
        <a-curve-point position="0.5 1.8 0" ></a-curve-point>
        <a-curve-point position="1 2 0"></a-curve-point>
        <a-curve-point position="2 2 0" ></a-curve-point>
        <a-curve-point position="2.5 1.5 0"></a-curve-point>
        <a-curve-point position="2.8 1 0" ></a-curve-point>
        <a-curve-point position="3 0.5 0"></a-curve-point>
    </a-curve>

    <a-entity geometry="primitive: sphere" material="color:purple" scale="0.1 0.1 0.1" position="5 0.5 0" rotation="0 0 -23">
              <!--alongpath="curve: #track7; loop:true; dur:3000; rotate:true;"--></a-entity>

    <a-curve id="track8" curve="closed:true;">
        <!--curve="closed:true;"-->
        <a-curve-point position="0.35 0.5 0"></a-curve-point>
        <a-curve-point position="0.5 1.8 0"></a-curve-point>
        <a-curve-point position="1 2 0"></a-curve-point>
        <a-curve-point position="2 2 0"></a-curve-point>
        <a-curve-point position="2.5 1.5 0"></a-curve-point>
        <a-curve-point position="2.8 1 0"></a-curve-point>
        <a-curve-point position="3 0.5 0"></a-curve-point>
    </a-curve>

    <a-entity geometry="primitive: sphere" material="color:lightblue" scale="0.1 0.1 0.1" position="6 0.5 0" rotation="0 0 -23">
              <!--alongpath="curve: #track8; loop:true; dur:3000; rotate:true;"--></a-entity>

    <a-curve id="track9" curve="closed:true;">
        <!--curve="closed:true;"-->
        <a-curve-point position="0.35 0.5 0"></a-curve-point>
        <a-curve-point position="0.5 1.8 0"></a-curve-point>
        <a-curve-point position="1 2 0"></a-curve-point>
        <a-curve-point position="2 2 0"></a-curve-point>
        <a-curve-point position="2.5 1.5 0"></a-curve-point>
        <a-curve-point position="2.8 1 0"></a-curve-point>
        <a-curve-point position="3 0.5 0"></a-curve-point>
    </a-curve>
     <a-entity geometry="primitive: sphere" material="color:brown" scale="0.1 0.1 0.1" position="5.5 0.5 0" rotation="0 0 -23">
               <!--alongpath="curve: #track9; loop:true; dur:3000; rotate:true;"--></a-entity>

         <a-curve id="track10" curve="closed:true;">
             <!--curve="closed:true;"-->
             <a-curve-point position="0.35 0.5 0"></a-curve-point>
             <a-curve-point position="0.5 1.8 0"></a-curve-point>
             <a-curve-point position="1 2 0"></a-curve-point>
             <a-curve-point position="2 2 0"></a-curve-point>
             <a-curve-point position="2.5 1.5 0"></a-curve-point>
             <a-curve-point position="2.8 1 0"></a-curve-point>
             <a-curve-point position="3 0.5 0"></a-curve-point>
         </a-curve>

         <a-entity geometry="primitive: sphere" material="color:blue" scale="0.1 0.1 0.1" position="4.5 0.5 0" rotation="0 0 -23">
                   <!--alongpath="curve: #track10; loop:true; dur:3000; rotate:true;"--></a-entity>

             <a-curve id="track11" curve="closed:true;">
                 <!--curve="closed:true;"-->
                 <a-curve-point position="0.35 0.5 0"></a-curve-point>
                 <a-curve-point position="0.5 1.8 0"></a-curve-point>
                 <a-curve-point position="1 2 0"></a-curve-point>
                 <a-curve-point position="2 2 0"></a-curve-point>
                 <a-curve-point position="2.5 1.5 0"></a-curve-point>
                 <a-curve-point position="2.8 1 0"></a-curve-point>
                 <a-curve-point position="3 0.5 0"></a-curve-point>
             </a-curve>

             <a-entity geometry="primitive: sphere" material="color:red" scale="0.1 0.1 0.1" position="3.5 0.5 0" rotation="0 0 -23">
                       <!--alongpath="curve: #track11; loop:true; dur:3000; rotate:true;"--></a-entity>

                 <a-assets>
                     <a-mixin id="eye" geometry="primitive:sphere; radius:0.3" material="color:#ff0000"></a-mixin>

                 </a-assets>
                 <a-entity id="Crow" scale="8 8 8" text="font:https://cdn.aframe.io/fonts/mozillavr.fnt; color:red; align:center; value: Crow" color="#ff0000" position="0 3 0" visible="false"></a-entity>

                 <!--<a-draw-curve curveref="#track2" material="shader: line; color: red;"></a-draw-curve>-->
                 <!--<a-assets>
        <a-asset-item id="myPlyModel" src="PC12.ply"></a-asset-item>
                </a-assets>
        <a-entity ply-model="src: #myPlyModel" rotation="-90 0 0" scale="0.5 0.5 0.5" position="0 0 0" alongpath="curve: #track1; loop:true; dur:6000; rotate:false;">
                          animation="property: color; dir: alternate; dur: 1000;
                                   easing: easeInSine; loop: true; to: #5F5"
                            animation__scale="property: scale; dir: alternate; dur: 200;
                                   easing: easeInSine; loop: true; to: 0.05 0.05 0.05"
                            animation__yoyo="property: position; dir: alternate; dur: 1000;
                                         easing: easeInSine; loop: true; to: 2 1 0">

                </a-entity>


                <!--<a-assets>
                    <a-asset-item id="blendmodel" src="PC12.blend"></a-asset-item>
                </a-assets>
                <a-entity blend-model="#blendmodel" rotation="-90 0 0" scale="0.5 0.5 0.5" position="0 0 0" alongpath="curve: #track1; loop:true; dur:6000; rotate:false;"></a-entity>-->


                 <a-assets>
                     <a-asset-item id="PC" src="PC.dae"></a-asset-item>
                     <!--<a-asset-item id="PC-mtl" src="Pcmodelmtl.mtl"></a-asset-item>-->
                 </a-assets>

                 <a-collada-model src="#PC" rotation="0 0 0" scale="3 3 3" position="0.35 0 0"></a-collada-model>
                 <!--<a-entity obj-model="obj: #PC-obj; mtl: #PC-mtl" rotation="0 0 0" scale="3 3 3" position="0 0.5 0"></a-entity>-->



                 <a-marker-camera preset='hiro'></a-marker-camera>

                 <!--<a-cursor intersection-spawn="event: click; mixin: voxel"></a-cursor>
        <a-sphere src="https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/space/earth_atmos_4096.jpg" radius="0.8" segments-height="53" position="0 1 0"
                    animation="property: color; dir: alternate; dur: 1000;
                           easing: easeInSine; loop: true; to: #5F5"
                    animation__scale="property: scale; dir: alternate; dur: 200;
                           easing: easeInSine; loop: true; to: 1.2 1 1.2"
                    animation__yoyo="property: position; dir: alternate; dur: 1000;
                                 easing: easeInSine; loop: true; to: 2 1 0">

           <!-- <a-animation attribute="rotation"
                         dur="10000"
                         to="0 360 0"
                         ease="linear"
                         repeat="indefinite">

            </a-animation>

        </a-sphere>-->
                 <!--<a-cylinder color="#F55" radius="0.5" position="0 1 0"
                    animation="property: color; dir: alternate; dur: 1000;
                           easing: easeInBounce; loop: true; to: #5F5"
                    animation__scale="property: scale; dir: alternate; dur: 200;
                           easing: easeInBounce; loop: true; to: 1.2 1 1.2"
                    animation__yoyo="property: position; dir: alternate; dur: 1000;
                                 easing: easeInBounce; loop: true; to: 2 1 0">
        </a-cylinder>-->
                 <!--<a-box color="#CCC" radius="0.5" position="0 1.5 0"></a-box>-->
                 <!--<a-entity geometry="primitive: plane; height: auto; width: auto"
             material="color: blue"
             text="width: 10; value: Hello."></a-entity>-->
                 <!--<a-scene stats></a-scene>-->
                 <!--<a-entity camera>
            <a-entity cursor="fuse: true; fuseTimeout: 500"
                      position="0 0 -1"
                      geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                      material="color: black; shader: flat">
            </a-entity>
        </a-entity>
        <a-entity id="box" cursor-listener geometry="primitive: box" material="color: blue"></a-entity>-->
</a-scene>
    <!--<script>
        var mover = document.querySelector("#mover");
        mover.addEventListener("movingended", function () {
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.curve", "#path2");
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.dur", "20000");
        });
    </script>-->
</body>

<script>
    //var sceneEl = document.querySelector('a-scene');
    //console.log(sceneEl.querySelectorAll('[visible]'));

    var mover = document.querySelector("#test4");
    console.log(mover);
    mover.querySelector('[alongpath]')
    console.log(mover.querySelector('[alongpath]'));
    if (mover.querySelector('[alongpath]') == track4) {
        mover.addEventListener("movingended", function () {
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.curve", "#track5");
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.dur", "3000");
        });
    }
    else {
        mover.addEventListener("movingended", function () {
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.curve", "#track4");
            AFRAME.utils.entity.setComponentProperty(this, "alongpath.dur", "3000");
        });
    }

    
   
        

  
   
    //var eyepoints = document.querySelectorAll(".triggers");

    //if (eyepoints[i].attributes.visible == false) {
    //    for (var i = 0; i < eyepoints.length; i++) {
    //        eyepoints[i].addEventListener("alongpath-trigger-activated", function (e) {
    //            AFRAME.utils.entity.setComponentProperty(this, "visible", true);
    //        });
    //        //    eyepoints[i].addEventListener("alongpath-trigger-deactivated", function (e) {
    //        //        AFRAME.utils.entity.setComponentProperty(this, "visible", false);
    //        //    });
    //        //}
    //    }

    //}
    //    else {
    //        for (var i = 0; i < eyepoints.length; i++) {
    //            //eyepoints[i].addEventListener("alongpath-trigger-activated", function (e) {
    //            //    AFRAME.utils.entity.setComponentProperty(this, "visible", true);
    //            //});
    //            eyepoints[i].addEventListener("alongpath-trigger-activated", function (e) {
    //                AFRAME.utils.entity.setComponentProperty(this, "visible", false);
    //            });
    //        }
    //}

    //var crow = document.querySelectorAll("#crow");
    //for (var i = 0; i < crow.length; i++) {
    //    crow[i].addEventListener("alongpath-trigger-actevated", function (e) {
    //        var Crow = document.querySelector('#Crow');
    //        AFRAME.utils.entity.setComponentProperty(Crow, "visible", true);
    //    });
        
    //}

      
    

    //console.log(crow);
    //console.log(eyepoints);
    //console.log('Hello test test !!!');

</script>
